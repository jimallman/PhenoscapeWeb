<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">

<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<% fulltitle = "Phenoscape Knowledgebase (BETA)" %>
	<% if @title %>
	<% fulltitle = fulltitle + ": " + @title %>
	<% end %>
	<title><%= fulltitle %></title>
	<script type="text/javascript">MochiKit = {__export__: false};</script>
	<%= javascript_include_tag :defaults %>
	<%= javascript_include_tag "MochiKit" %>
	<%= javascript_include_tag "sortable" %>	
	<!-- Combo-handled YUI CSS files: --> 
	<link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/combo?2.7.0/build/base/base-min.css&amp;2.7.0/build/assets/skins/sam/skin.css">
	<%= stylesheet_link_tag "autocomplete" %>
	<%= stylesheet_link_tag "main" %>
	<!-- Combo-handled YUI JS files: --> 
	<script type="text/javascript" src="http://yui.yahooapis.com/combo?2.7.0/build/utilities/utilities.js&amp;2.7.0/build/datasource/datasource-min.js&amp;2.7.0/build/autocomplete/autocomplete-min.js&amp;2.7.0/build/button/button-min.js&amp;2.7.0/build/container/container-min.js&amp;2.7.0/build/datatable/datatable-min.js&amp;2.7.0/build/json/json-min.js&amp;2.7.0/build/selector/selector-min.js&amp;2.7.0/build/stylesheet/stylesheet-min.js&amp;2.7.0/build/treeview/treeview-min.js"></script>
	<%= feedback_includes %>
</head>
<body class="yui-skin-sam">
<h1><a href="/"><img class="top_logo" src="/images/phenoscape_beta.png" alt="Phenoscape logo"></a><span>The Phenoscape Knowledgebase is currently in BETA testing - we would greatly value your feedback as we continue its development.</span></h1>
	<form id="upperTermForm" action="" onsubmit="upperSubmitTerm(); return false;">
		<div id="upperTermChoiceGroup">
			<span class="search-label">Search (entity, taxon, gene): </span><input type="text" id="upperTermChoice"><input id="upperSearchSubmit" type="submit" value="Go">
			<div id="upperTermComplete"></div>
			<p id="upperSearchExamples">Enter entity terms (e.g. basihyal bone), taxonomic names (e.g. Ictaluridae), or gene names or symbols (e.g. cadherin 6, cdh6).</p>
		</div>
	</form>
<div id="navbar">
	<a href="/">Home</a>
	<%= feedback_link "Provide Feedback" %>
	<a href="/about/">About</a> <a href="/contributors/">Contributors</a>
</div>
<div class="clear"></div>
<%= yield  %>
<div id="footer">
	<div>
		<p>The Phenoscape project is funded by NSF grant BDI-0641025, and supported by the National Evolutionary Synthesis Center (NESCent), NSF #EF-0423641</p>
		<p>The Phenoscape Knowledgebase is intended to enhance knowledge and progress in the scientific community. For this reason, the contents are made available according to the terms of a <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0 Unported license</a>. This license allows any party to distribute, reuse, and derive works from the data for commercial or non-commercial uses provided that appropriate attribution is given. Any contents to which this license does not apply (such a copyrighted images provided by third parties) are specifically marked as such. Contributions to Phenoscape are predominantly based on data reported in the published literature; the copyright to the original publication remains with the original owner, and contributors to the database are individually acknowledged. Users are requested to cite the original paper (or, in some cases, unpublished manuscript) from which the data were derived, as well as a citation of the following form:</p>
		<p class="phenoscape-citation">PhenoscapeKB, [U.S. National Evolutionary Synthesis Center], http://kb.phenoscape.org; [Date on which data was retrieved].</p>
	<div>
</div>
</body>
<script type="text/javascript">
Feedback.init({tabPosition: null});
	var upperSelectedTerm = {"id":null, "name":null};
	var upperTermAC = initAutocomplete($("upperTermChoice"), $("upperTermComplete"), [ONTOLOGY.TAO, ONTOLOGY.ZFIN, ONTOLOGY.TTO]);
	
	function upperSelectItem(storage, event, item) {
		var data = item[2];
		storage.id = data[1];
		storage.name = data[0];
	}
	upperTermAC.itemSelectEvent.subscribe(MochiKit.Base.partial(upperSelectItem, upperSelectedTerm));
	
	function upperSubmitTerm() {
		var href = null;
		if ((upperSelectedTerm.id == null) || ($("upperTermChoice").value != upperSelectedTerm.name)) {
			href = URL.generalTerm($("upperTermChoice").value);
		} else if (upperSelectedTerm.id.indexOf(ONTOLOGY.TAO) == 0) {
			href = URL.entity(upperSelectedTerm.id);
		} else if (upperSelectedTerm.id.indexOf(ONTOLOGY.TTO) == 0) {
			href = URL.taxon(upperSelectedTerm.id);
		} else if (upperSelectedTerm.id.indexOf(ONTOLOGY.ZFIN) == 0) {
			href = URL.gene(upperSelectedTerm.id);
		}
		location.href = href;
	}
	
</script>

</html>
